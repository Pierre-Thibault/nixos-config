#!/usr/bin/env bash 
# Dependencies: tesseract-ocr imagemagick scrot xsel

#select tesseract_lang in eng rus equ ;do break;done
# quick language menu, add more if you need other languages.

SCR_IMG=`mktemp`
trap "rm $SCR_IMG*" EXIT

if [[ "$XDG_SESSION_TYPE" == "wayland" ]]; then
  gnome-screenshot -a -f $SCR_IMG.png
else
  import $SCR_IMG.png
fi

tesseract $SCR_IMG.png $SCR_IMG  -l fra+eng+spa &> /dev/null
cat $SCR_IMG.txt | xargs echo -n | wl-copy 

